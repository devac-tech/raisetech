# 第7回課題

## 第5回の構成図のセキュリティ上の問題点と改善策や検討内容
<img src="img/lecture05/diagram.png" width="640px">

### 負荷<br>
- EC2を冗長化していないため大量のアクセスがあった場合に対応できない。<br>
→今回無料枠で構築しているが本番運用を想定した場合は、冗長化構成で可用性を高めるためマルチAZ構成にしてEC2を配置して負荷を分散させる。<br>

### 認証<br>
- IAMユーザー(admin)に管理者権限がすべて（AdministratorAccess）が付与されている<br>
→最小権限の法則に則って不要な権限は許可しない方が望ましい。<br>

### 脆弱性<br>
- HTTP通信のため暗号化されていない<br>
→ACMで証明書を発行するしてHTTPS通信を行う。またはHTTPを閉じる。<br>

- 攻撃の遮断<br>
→全ての攻撃遮断できるわけではないが、WAFを検討してもよい。その際のルールは、AWSManagedRulesCommonRuleSetを推奨。<br>

- AWSの設定情報について<br>
→小規模ではあるがAWSの設定情報を検索して、脆弱な部分を指摘するSecurity Hubを検討してもよい。<br>

- Rubyのver.によっての脆弱性<br>
→ver.によってはHTTPレスポンスヘッダーや本文に無効な属性が挿入される可能性があるためAWSでもマネージドサービスを使って攻撃から防護する事やDependabotの導入を検討する。<br>

- サンプルアプリケーションのコードについて<br>
→将来的に改修して利用する場合などは、導入にはコストを考慮する必要があるがバグなどの対策としてCodeGuru Reviewerを使用すればコードをスキャンし、改善を提案してくれる。<br>

## 感想
- セキュリティを意識するとトレードオフの関係にある要素が発生するため、システムのバランスやコストを考慮する必要がある。
- 今回の講義で紹介されたセキュリティサービスは代表的なものなので、セキュリティを意識する事によりシステムをより深く理解するきっかけとしたい。
